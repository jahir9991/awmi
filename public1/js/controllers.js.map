{"version":3,"sources":["globalController.js","navController.js","userController.js","coverSheetController.js","invoiceController.js","filenoController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controllers.js","sourcesContent":["myApp.controller('globalController', ['$scope', 'userModel', function ($scope, userModel) {\r\n    $scope.global = {};\r\n    $scope.global.navUrl = 'templates/partials/nav.html';\r\n    $scope.global.user = userModel.getUserObject();\r\n    $scope.global.isAdmin = userModel.isAdmin();\r\n    $scope.$on('updateUser', function (value) {\r\n        $scope.global.user = userModel.getUserObject();\r\n    });\r\n    $scope.$on('updateRole', function (value) {\r\n        $scope.global.isAdmin = userModel.isAdmin();\r\n    });\r\n\r\n}])\r\n","myApp.controller('navController', ['$scope', 'userModel', '$location', function ($scope, userModel, $location) {\r\n\r\n    angular.extend($scope, {\r\n        // user: userModel.getUserObject(),\r\n        navUrl: [{\r\n            link: 'Home',\r\n            url: '#/dashboard'\r\n        }, {\r\n            link: 'Coversheet',\r\n            url: '#/dashboard/coversheet'\r\n        }, {\r\n            link: 'Invoice',\r\n            url: '#/dashboard/invoice'\r\n        }, {\r\n            link: 'FileNo',\r\n            url: '#/dashboard/fileno'\r\n        },]\r\n    });\r\n    angular.extend($scope, {\r\n        doLogout: function () {\r\n            userModel.doUserLogout();\r\n\r\n            $location.path('/');\r\n        },\r\n        checkActiveLink: function (routeLink) {\r\n            if ('#' + $location.path() == routeLink) {\r\n                return 'active';\r\n            }\r\n\r\n        }\r\n\r\n    });\r\n\r\n\r\n}]);\r\n","myApp.controller('userController', ['$scope', '$cookies', 'userModel', '$location', function ($scope, $cookies, userModel, $location) {\r\n    $scope.$emit('updateUser', userModel.getUserObject());\r\n    $scope.$emit('updateRole', userModel.isAdmin());\r\n\r\n    /*variable*/\r\n    angular.extend($scope, {\r\n        user: userModel.getUserObject(),\r\n        login: {},\r\n        signup: {},\r\n        signupSuccess: false\r\n    })\r\n    ;\r\n    /*functions*/\r\n    angular.extend($scope, {\r\n        doLogin: function (loginForm) {\r\n            if (loginForm.$valid) {\r\n                $scope.loging = true;\r\n                $scope.loginFormSubmitted = false;\r\n                var loginData = {\r\n                    email: $scope.login.email,\r\n                    password: $scope.login.password\r\n                };\r\n\r\n                userModel.doLogin(loginData)\r\n                    .success(function (response) {\r\n                        console.log(response);\r\n                        var user = JSON.stringify(response);\r\n                        if (response.role !== 3) {\r\n                            $cookies.put('auth', user);\r\n                            $cookies.put('isAdmin', response.role);\r\n                            $location.path('/dashboard');\r\n                        }\r\n                    })\r\n                    .error(function (data, status, header) {\r\n                        $scope.loginError = data;\r\n                        if (status == 423) {\r\n                            $scope.loginstatus = 'alert-warning'\r\n                        } else {\r\n                            $scope.loginstatus = 'alert-danger'\r\n                        }\r\n                        // $scope.loginError.status= status;\r\n                        $scope.loging = false;\r\n                        $scope.login = {};\r\n                    });\r\n            }\r\n            else {\r\n                $scope.loginFormSubmitted = true;\r\n                console.log('login form invalid');\r\n                $scope.login = {};\r\n            }\r\n\r\n        }, /*end doLogin*/\r\n\r\n        doSignUp: function (signupForm) {\r\n            if (signupForm.$valid && !$scope.emailCheckError) {   //chek Validation\r\n                $scope.signupFormSubmitted = false;\r\n\r\n                var signupData = {\r\n                    name: $scope.signup.name,\r\n                    email: $scope.signup.email,\r\n                    password: $scope.signup.password\r\n                };\r\n\r\n                userModel.doSignUp(signupData)\r\n                    .success(function (response) {\r\n                        console.log(response);\r\n                        $scope.signupSuccess = true;\r\n                        $scope.signup = {};\r\n                        $scope.user = response;\r\n                    })\r\n                    .error(function (data, status, header) {\r\n                        console.log(data);\r\n                    });\r\n\r\n            }\r\n            else {\r\n                $scope.signupFormSubmitted = true;\r\n                console.log(signupForm);\r\n            }\r\n        },\r\n        /*end doSignUp*/\r\n\r\n        checkEmail: function () {\r\n            userModel.checkEmail($scope.signup.email).success(function (data) {\r\n                if (data == 0) {\r\n                    $scope.emailCheckError = true;\r\n                    console.log($scope.emailCheckError);\r\n                } else {\r\n                    $scope.emailCheckError = false;\r\n                    console.log($scope.emailCheckError);\r\n                }\r\n\r\n            })\r\n\r\n        },\r\n        closesignup: function () {\r\n\r\n                  $scope.signupSuccess=false;\r\n        }\r\n\r\n    });\r\n\r\n\r\n}]);\r\n\r\n\r\n\r\n","myApp.controller('coverSheetController', ['$scope', 'coverSheetModel', '$location', function ($scope, coverSheetModel, $location) {\r\n\r\n    /*variable*/\r\n    angular.extend($scope, {\r\n\r\n        errorDiv: false,\r\n        errorMessage: [],\r\n        detailCoversheet: {},\r\n        newCoversheet: {},\r\n        // allCoversheet: [],\r\n        modelInsert: false,\r\n        modelDetail: false,\r\n        isSaving: false,\r\n    });\r\n\r\n    coverSheetModel.getCoverSheet().success(function (res) {\r\n        console.log(res);\r\n        $scope.allCoversheet = res;\r\n    });\r\n\r\n\r\n    /*function*/\r\n    angular.extend($scope, {\r\n        currentDate: function () {\r\n            $scope.newCoversheet.date = new Date();\r\n            $scope.newCoversheet.time = new Date()\r\n        },\r\n        modelInsertShow: function () {\r\n            $scope.modelInsert = true;\r\n\r\n\r\n        },\r\n        modelDetailShow: function (id) {\r\n\r\n\r\n            $scope.detailCoversheet = id;\r\n            $scope.modelDetail = true;\r\n\r\n        },\r\n        modelinsertClose: function () {\r\n            $scope.modelInsert = false;\r\n\r\n        },\r\n        modelDetailClose: function () {\r\n            $scope.modelDetail = false;\r\n\r\n        },\r\n\r\n        insertCoverSheet: function (coversheetForm) {\r\n\r\n            $scope.isSaving = true;\r\n            // console.log(coversheetForm);\r\n            if (coversheetForm.$valid) {\r\n                $scope.coversheetFormSubmitted = false;\r\n                coverSheetModel.saveCoverSheet($scope.newCoversheet)\r\n                    .success(function (response) {\r\n\r\n                        console.log(response);\r\n\r\n                    }).error(function (err) {\r\n\r\n                    console.log(err);\r\n                })\r\n\r\n            } else {\r\n                $scope.coversheetFormSubmitted = true;\r\n                console.log('invalid form');\r\n\r\n            }\r\n\r\n        }\r\n    });\r\n\r\n\r\n}]);\r\n","myApp.controller('invoiceController', ['$scope', 'invoiceModel', '$location', function ($scope, invoiceModel, $location) {\r\n\r\n    /*variable*/\r\n    angular.extend($scope, {\r\n        newCoverSheet: {},\r\n        errorDiv: false,\r\n        errorMessage: [],\r\n        md: false\r\n\r\n    });\r\n    /*function*/\r\n    angular.extend($scope, {\r\n        mdShow: function () {\r\n            $scope.md = true;\r\n\r\n\r\n        },\r\n        mdClose: function () {\r\n            $scope.md = false;\r\n\r\n        },\r\n        newCoverSheet: {}\r\n        ,\r\n        saveNewCoverSheet: function (addCoverSheetForm) {\r\n            console.log(addCoverSheetForm);\r\n            if (addCoverSheetForm.$valid) {\r\n                $scope.formSubmitted = false;\r\n                console.log('correct')\r\n            } else {\r\n                $scope.formSubmitted = true;\r\n                console.log('error');\r\n\r\n            }\r\n\r\n        }\r\n\r\n    })\r\n    ;\r\n\r\n\r\n}]);\r\n","myApp.controller('filenoController', ['$scope', 'filenoModel', '$location', function ($scope, filenoModel, $location) {\r\n\r\n    /*variable*/\r\n    angular.extend($scope, {\r\n        newCoverSheet: {},\r\n        errorDiv: false,\r\n        errorMessage: [],\r\n        md: false\r\n\r\n    });\r\n    /*function*/\r\n    angular.extend($scope, {\r\n        mdShow: function () {\r\n            $scope.md = true;\r\n\r\n\r\n        },\r\n        mdClose: function () {\r\n            $scope.md = false;\r\n\r\n        },\r\n        newCoverSheet: {}\r\n        ,\r\n        saveNewCoverSheet: function (addCoverSheetForm) {\r\n            console.log(addCoverSheetForm);\r\n            if (addCoverSheetForm.$valid) {\r\n                $scope.formSubmitted = false;\r\n                console.log('correct')\r\n            } else {\r\n                $scope.formSubmitted = true;\r\n                console.log('error');\r\n\r\n            }\r\n\r\n        }\r\n\r\n    })\r\n    ;\r\n\r\n\r\n}]);\r\n"],"sourceRoot":"/source/"}